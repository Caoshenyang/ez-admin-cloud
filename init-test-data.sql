-- =============================================
-- Ez-Admin 系统测试数据初始化脚本
-- 数据库: PostgreSQL
-- 说明: 包含部门、角色、用户、菜单及关联关系
-- =============================================

-- =============================================
-- 1. 部门数据 (ez_admin_sys_dept)
-- =============================================
INSERT INTO ez_admin_sys_dept (dept_id, dept_name, dept_sort, ancestors, parent_id, status, description, create_by, create_time, update_by, update_time, is_deleted) VALUES
-- 总部
(1000000000000000001, 'EZ科技总部', 1, '0', 0, 1, '公司总部', 'system', NOW(), 'system', NOW(), 0),
-- 一级部门
(1000000000000000002, '研发中心', 1, '0/1000000000000000001', 1000000000000000001, 1, '负责产品研发', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000003, '运营中心', 2, '0/1000000000000000001', 1000000000000000001, 1, '负责产品运营', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000004, '行政中心', 3, '0/1000000000000000001', 1000000000000000001, 1, '负责行政人事', 'system', NOW(), 'system', NOW(), 0),
-- 二级部门（研发中心下）
(1000000000000000005, '后端开发部', 1, '0/1000000000000000001/1000000000000000002', 1000000000000000002, 1, '后端技术开发', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000006, '前端开发部', 2, '0/1000000000000000001/1000000000000000002', 1000000000000000002, 1, '前端技术开发', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000007, '测试部', 3, '0/1000000000000000001/1000000000000000002', 1000000000000000002, 1, '质量保证测试', 'system', NOW(), 'system', NOW(), 0);

-- =============================================
-- 2. 角色数据 (ez_admin_sys_role)
-- =============================================
INSERT INTO ez_admin_sys_role (role_id, role_name, role_label, role_sort, data_scope, status, description, create_by, create_time, update_by, update_time, is_deleted) VALUES
(1000000000000000001, '超级管理员', 'super_admin', 1, 5, 1, '拥有系统所有权限', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000002, '管理员', 'admin', 2, 4, 1, '拥有系统大部分权限', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000003, '普通用户', 'user', 3, 1, 1, '普通用户角色', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000004, '访客', 'guest', 4, 1, 1, '访客角色，只读权限', 'system', NOW(), 'system', NOW(), 0);

-- =============================================
-- 3. 用户数据 (ez_admin_sys_user)
-- 密码说明: 密码均为 '123456' (明文存储，实际项目应使用 BCrypt 加密)
-- =============================================
INSERT INTO ez_admin_sys_user (user_id, dept_id, username, password, nickname, email, phone_number, gender, avatar, status, login_ip, login_date, description, create_by, create_time, update_by, update_time, is_deleted) VALUES
(1000000000000000001, 1000000000000000001, 'admin', '123456', '超级管理员', 'admin@ez-admin.com', '13800138000', 1, 'https://example.com/avatar/admin.jpg', 1, '127.0.0.1', NOW(), '系统超级管理员', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000002, 1000000000000000002, 'manager', '123456', '系统管理员', 'manager@ez-admin.com', '13800138001', 1, 'https://example.com/avatar/manager.jpg', 1, '', NULL, '系统管理员', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000003, 1000000000000000005, 'developer', '123456', '开发工程师', 'developer@ez-admin.com', '13800138002', 1, 'https://example.com/avatar/developer.jpg', 1, '', NULL, '后端开发工程师', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000004, 1000000000000000006, 'frontend', '123456', '前端工程师', 'frontend@ez-admin.com', '13800138003', 2, 'https://example.com/avatar/frontend.jpg', 1, '', NULL, '前端开发工程师', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000005, 1000000000000000007, 'tester', '123456', '测试工程师', 'tester@ez-admin.com', '13800138004', 2, 'https://example.com/avatar/tester.jpg', 1, '', NULL, '测试工程师', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000006, 1000000000000000003, 'operator', '123456', '运营专员', 'operator@ez-admin.com', '13800138005', 1, 'https://example.com/avatar/operator.jpg', 1, '', NULL, '产品运营专员', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000007, 1000000000000000002, 'user', '123456', '普通用户', 'user@ez-admin.com', '13800138006', 1, 'https://example.com/avatar/user.jpg', 1, '', NULL, '普通用户', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000008, 1000000000000000004, 'guest', '123456', '访客用户', 'guest@ez-admin.com', '13800138007', 0, 'https://example.com/avatar/guest.jpg', 1, '', NULL, '访客用户', 'system', NOW(), 'system', NOW(), 0);

-- =============================================
-- 4. 菜单数据 (ez_admin_sys_menu)
-- menu_type: 1=目录 2=菜单 3=按钮
-- menu_perm: 权限标识，格式如 sys:user:add
-- 注意：menu_perm 字段不允许为 NULL，按钮权限必须有值，目录/菜单可为空字符串
-- =============================================
INSERT INTO ez_admin_sys_menu (menu_id, menu_name, menu_icon, menu_label, parent_id, menu_sort, menu_type, menu_perm, route_path, route_name, component_path, status, description, create_by, create_time, update_by, update_time, is_deleted) VALUES
-- 一级菜单: 系统管理
(1000000000000000001, '系统管理', 'Setting', 'system', 0, 1, 1, '', '/system', 'System', '', 1, '系统管理目录', 'system', NOW(), 'system', NOW(), 0),

-- 二级菜单: 用户管理
(1000000000000000002, '用户管理', 'User', 'sys:user', 1000000000000000001, 1, 2, 'sys:user:list', '/system/user', 'SystemUser', 'system/user/index', 1, '用户管理菜单', 'system', NOW(), 'system', NOW(), 0),
-- 用户管理按钮权限
(1000000000000000003, '用户查询', '', 'sys:user:query', 1000000000000000002, 1, 3, 'sys:user:query', '', '', '', 1, '用户查询按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000004, '用户新增', '', 'sys:user:add', 1000000000000000002, 2, 3, 'sys:user:add', '', '', '', 1, '用户新增按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000005, '用户修改', '', 'sys:user:edit', 1000000000000000002, 3, 3, 'sys:user:edit', '', '', '', 1, '用户修改按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000006, '用户删除', '', 'sys:user:delete', 1000000000000000002, 4, 3, 'sys:user:delete', '', '', '', 1, '用户删除按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000007, '用户导出', '', 'sys:user:export', 1000000000000000002, 5, 3, 'sys:user:export', '', '', '', 1, '用户导出按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000008, '用户导入', '', 'sys:user:import', 1000000000000000002, 6, 3, 'sys:user:import', '', '', '', 1, '用户导入按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000009, '重置密码', '', 'sys:user:reset_pwd', 1000000000000000002, 7, 3, 'sys:user:reset_pwd', '', '', '', 1, '重置密码按钮', 'system', NOW(), 'system', NOW(), 0),

-- 二级菜单: 角色管理
(1000000000000000010, '角色管理', 'UserFilled', 'sys:role', 1000000000000000001, 2, 2, 'sys:role:list', '/system/role', 'SystemRole', 'system/role/index', 1, '角色管理菜单', 'system', NOW(), 'system', NOW(), 0),
-- 角色管理按钮权限
(1000000000000000011, '角色查询', '', 'sys:role:query', 1000000000000000010, 1, 3, 'sys:role:query', '', '', '', 1, '角色查询按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000012, '角色新增', '', 'sys:role:add', 1000000000000000010, 2, 3, 'sys:role:add', '', '', '', 1, '角色新增按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000013, '角色修改', '', 'sys:role:edit', 1000000000000000010, 3, 3, 'sys:role:edit', '', '', '', 1, '角色修改按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000014, '角色删除', '', 'sys:role:delete', 1000000000000000010, 4, 3, 'sys:role:delete', '', '', '', 1, '角色删除按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000015, '分配权限', '', 'sys:role:assign_perm', 1000000000000000010, 5, 3, 'sys:role:assign_perm', '', '', '', 1, '分配权限按钮', 'system', NOW(), 'system', NOW(), 0),

-- 二级菜单: 菜单管理
(1000000000000000016, '菜单管理', 'Menu', 'sys:menu', 1000000000000000001, 3, 2, 'sys:menu:list', '/system/menu', 'SystemMenu', 'system/menu/index', 1, '菜单管理菜单', 'system', NOW(), 'system', NOW(), 0),
-- 菜单管理按钮权限
(1000000000000000017, '菜单查询', '', 'sys:menu:query', 1000000000000000016, 1, 3, 'sys:menu:query', '', '', '', 1, '菜单查询按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000018, '菜单新增', '', 'sys:menu:add', 1000000000000000016, 2, 3, 'sys:menu:add', '', '', '', 1, '菜单新增按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000019, '菜单修改', '', 'sys:menu:edit', 1000000000000000016, 3, 3, 'sys:menu:edit', '', '', '', 1, '菜单修改按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000020, '菜单删除', '', 'sys:menu:delete', 1000000000000000016, 4, 3, 'sys:menu:delete', '', '', '', 1, '菜单删除按钮', 'system', NOW(), 'system', NOW(), 0),

-- 二级菜单: 部门管理
(1000000000000000021, '部门管理', 'OfficeBuilding', 'sys:dept', 1000000000000000001, 4, 2, 'sys:dept:list', '/system/dept', 'SystemDept', 'system/dept/index', 1, '部门管理菜单', 'system', NOW(), 'system', NOW(), 0),
-- 部门管理按钮权限
(1000000000000000022, '部门查询', '', 'sys:dept:query', 1000000000000000021, 1, 3, 'sys:dept:query', '', '', '', 1, '部门查询按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000023, '部门新增', '', 'sys:dept:add', 1000000000000000021, 2, 3, 'sys:dept:add', '', '', '', 1, '部门新增按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000024, '部门修改', '', 'sys:dept:edit', 1000000000000000021, 3, 3, 'sys:dept:edit', '', '', '', 1, '部门修改按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000025, '部门删除', '', 'sys:dept:delete', 1000000000000000021, 4, 3, 'sys:dept:delete', '', '', '', 1, '部门删除按钮', 'system', NOW(), 'system', NOW(), 0),

-- 一级菜单: 监控中心
(1000000000000000026, '监控中心', 'Monitor', 'monitor', 0, 2, 1, '', '/monitor', 'Monitor', '', 1, '监控中心目录', 'system', NOW(), 'system', NOW(), 0),
-- 二级菜单: 在线用户
(1000000000000000027, '在线用户', 'User', 'monitor:online', 1000000000000000026, 1, 2, 'monitor:online:list', '/monitor/online', 'MonitorOnline', 'monitor/online/index', 1, '在线用户监控', 'system', NOW(), 'system', NOW(), 0),
-- 在线用户按钮权限
(1000000000000000028, '强退用户', '', 'monitor:online:force_logout', 1000000000000000027, 1, 3, 'monitor:online:force_logout', '', '', '', 1, '强退用户按钮', 'system', NOW(), 'system', NOW(), 0),

-- 二级菜单: 操作日志
(1000000000000000029, '操作日志', 'Document', 'monitor:log', 1000000000000000026, 2, 2, 'monitor:log:list', '/monitor/log', 'MonitorLog', 'monitor/log/index', 1, '操作日志', 'system', NOW(), 'system', NOW(), 0),
-- 操作日志按钮权限
(1000000000000000030, '日志查询', '', 'monitor:log:query', 1000000000000000029, 1, 3, 'monitor:log:query', '', '', '', 1, '日志查询按钮', 'system', NOW(), 'system', NOW(), 0),
(1000000000000000031, '日志导出', '', 'monitor:log:export', 1000000000000000029, 2, 3, 'monitor:log:export', '', '', '', 1, '日志导出按钮', 'system', NOW(), 'system', NOW(), 0);

-- =============================================
-- 5. 用户-角色关联数据 (ez_admin_sys_user_role_relation)
-- =============================================
INSERT INTO ez_admin_sys_user_role_relation (id, user_id, role_id) VALUES
(1000000000000000001, 1000000000000000001, 1000000000000000001),
(1000000000000000002, 1000000000000000002, 1000000000000000002),
(1000000000000000003, 1000000000000000003, 1000000000000000003),
(1000000000000000004, 1000000000000000004, 1000000000000000003),
(1000000000000000005, 1000000000000000005, 1000000000000000003),
(1000000000000000006, 1000000000000000006, 1000000000000000003),
(1000000000000000007, 1000000000000000007, 1000000000000000003),
(1000000000000000008, 1000000000000000008, 1000000000000000004);

-- =============================================
-- 6. 角色-菜单关联数据 (ez_admin_sys_role_menu_relation)
-- =============================================
INSERT INTO ez_admin_sys_role_menu_relation (id, role_id, menu_id) VALUES
-- ==================== 超级管理员 (super_admin) - 拥有所有权限 ====================
(1000000000000000001, 1000000000000000001, 1000000000000000001),
(1000000000000000002, 1000000000000000001, 1000000000000000002),
(1000000000000000003, 1000000000000000001, 1000000000000000003),
(1000000000000000004, 1000000000000000001, 1000000000000000004),
(1000000000000000005, 1000000000000000001, 1000000000000000005),
(1000000000000000006, 1000000000000000001, 1000000000000000006),
(1000000000000000007, 1000000000000000001, 1000000000000000007),
(1000000000000000008, 1000000000000000001, 1000000000000000008),
(1000000000000000009, 1000000000000000001, 1000000000000000009),
(1000000000000000010, 1000000000000000001, 1000000000000000010),
(1000000000000000011, 1000000000000000001, 1000000000000000011),
(1000000000000000012, 1000000000000000001, 1000000000000000012),
(1000000000000000013, 1000000000000000001, 1000000000000000013),
(1000000000000000014, 1000000000000000001, 1000000000000000014),
(1000000000000000015, 1000000000000000001, 1000000000000000015),
(1000000000000000016, 1000000000000000001, 1000000000000000016),
(1000000000000000017, 1000000000000000001, 1000000000000000017),
(1000000000000000018, 1000000000000000001, 1000000000000000018),
(1000000000000000019, 1000000000000000001, 1000000000000000019),
(1000000000000000020, 1000000000000000001, 1000000000000000020),
(1000000000000000021, 1000000000000000001, 1000000000000000021),
(1000000000000000022, 1000000000000000001, 1000000000000000022),
(1000000000000000023, 1000000000000000001, 1000000000000000023),
(1000000000000000024, 1000000000000000001, 1000000000000000024),
(1000000000000000025, 1000000000000000001, 1000000000000000025),
(1000000000000000026, 1000000000000000001, 1000000000000000026),
(1000000000000000027, 1000000000000000001, 1000000000000000027),
(1000000000000000028, 1000000000000000001, 1000000000000000028),
(1000000000000000029, 1000000000000000001, 1000000000000000029),
(1000000000000000030, 1000000000000000001, 1000000000000000030),
(1000000000000000031, 1000000000000000001, 1000000000000000031),

-- ==================== 管理员 (admin) - 拥有大部分管理权限，不含监控中心 ====================
(1000000000000000032, 1000000000000000002, 1000000000000000001),
(1000000000000000033, 1000000000000000002, 1000000000000000002),
(1000000000000000034, 1000000000000000002, 1000000000000000003),
(1000000000000000035, 1000000000000000002, 1000000000000000004),
(1000000000000000036, 1000000000000000002, 1000000000000000005),
(1000000000000000037, 1000000000000000002, 1000000000000000006),
(1000000000000000038, 1000000000000000002, 1000000000000000007),
(1000000000000000039, 1000000000000000002, 1000000000000000009),
(1000000000000000040, 1000000000000000002, 1000000000000000010),
(1000000000000000041, 1000000000000000002, 1000000000000000011),
(1000000000000000042, 1000000000000000002, 1000000000000000012),
(1000000000000000043, 1000000000000000002, 1000000000000000013),
(1000000000000000044, 1000000000000000002, 1000000000000000014),
(1000000000000000045, 1000000000000000002, 1000000000000000016),
(1000000000000000046, 1000000000000000002, 1000000000000000017),
(1000000000000000047, 1000000000000000002, 1000000000000000021),
(1000000000000000048, 1000000000000000002, 1000000000000000022),

-- ==================== 普通用户 (user) - 只有查询权限 ====================
(1000000000000000049, 1000000000000000003, 1000000000000000001),
(1000000000000000050, 1000000000000000003, 1000000000000000002),
(1000000000000000051, 1000000000000000003, 1000000000000000003),
(1000000000000000052, 1000000000000000003, 1000000000000000010),
(1000000000000000053, 1000000000000000003, 1000000000000000011),

-- ==================== 访客 (guest) - 最少权限，只能查看 ====================
(1000000000000000054, 1000000000000000004, 1000000000000000001),
(1000000000000000055, 1000000000000000004, 1000000000000000002),
(1000000000000000056, 1000000000000000004, 1000000000000000003);

-- =============================================
-- 初始化完成提示
-- =============================================
-- 测试账号说明:
-- 超级管理员: admin / 123456 (所有权限)
-- 管理员: manager / 123456 (管理权限)
-- 普通用户: user / 123456 (查询权限)
-- 访客: guest / 123456 (只读权限)
-- =============================================
